{"url":"https://api.github.com/gists/4937aa69651a5852aa72b2a38e415d79","forks_url":"https://api.github.com/gists/4937aa69651a5852aa72b2a38e415d79/forks","commits_url":"https://api.github.com/gists/4937aa69651a5852aa72b2a38e415d79/commits","id":"4937aa69651a5852aa72b2a38e415d79","node_id":"MDQ6R2lzdDQ5MzdhYTY5NjUxYTU4NTJhYTcyYjJhMzhlNDE1ZDc5","git_pull_url":"https://gist.github.com/4937aa69651a5852aa72b2a38e415d79.git","git_push_url":"https://gist.github.com/4937aa69651a5852aa72b2a38e415d79.git","html_url":"https://gist.github.com/4937aa69651a5852aa72b2a38e415d79","files":{"blackbox-saga-test.js":{"filename":"blackbox-saga-test.js","type":"application/javascript","language":"JavaScript","raw_url":"https://gist.githubusercontent.com/reime005/4937aa69651a5852aa72b2a38e415d79/raw/00a0200b3c6b8bcdf49dd588184160dfa02093b0/blackbox-saga-test.js","size":922,"truncated":false,"content":"/* src/store/__tests__/saga.test.js */\nimport SagaTester from \"redux-saga-tester\";\nimport { rootSaga, queuedSagaAction } from \"../rootSaga\";\nimport { rootReducer } from \"../rootReducer\";\n\n// enable mock api so that test environment goes against fake server\nrequire('../../mock-api.js');\n\nconst delay = (t) => new Promise(res => setTimeout(() => res(), t));\n\ndescribe(\"root saga\", () => {\n  it(\"should handle 4 button clicks one after another\", async () => {\n    const sagaTester = new SagaTester({\n      reducers: rootReducer\n    });\n\n    sagaTester.start(rootSaga);\n\n    sagaTester.dispatch(queuedSagaAction());\n    sagaTester.dispatch(queuedSagaAction());\n    sagaTester.dispatch(queuedSagaAction());\n    sagaTester.dispatch(queuedSagaAction());\n\n    await delay(5000); // wait for 4 request * max 1sec each\n\n    const state = sagaTester.getState();\n\n    expect(state.exampleReducer.counter).toEqual(4);\n  }, 10000);\n});"}},"public":false,"created_at":"2019-09-09T19:51:19Z","updated_at":"2019-09-09T19:51:19Z","description":"","comments":0,"user":null,"comments_url":"https://api.github.com/gists/4937aa69651a5852aa72b2a38e415d79/comments","owner":{"login":"reime005","id":15148377,"node_id":"MDQ6VXNlcjE1MTQ4Mzc3","avatar_url":"https://avatars3.githubusercontent.com/u/15148377?v=4","gravatar_id":"","url":"https://api.github.com/users/reime005","html_url":"https://github.com/reime005","followers_url":"https://api.github.com/users/reime005/followers","following_url":"https://api.github.com/users/reime005/following{/other_user}","gists_url":"https://api.github.com/users/reime005/gists{/gist_id}","starred_url":"https://api.github.com/users/reime005/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reime005/subscriptions","organizations_url":"https://api.github.com/users/reime005/orgs","repos_url":"https://api.github.com/users/reime005/repos","events_url":"https://api.github.com/users/reime005/events{/privacy}","received_events_url":"https://api.github.com/users/reime005/received_events","type":"User","site_admin":false},"forks":[],"history":[{"user":{"login":"reime005","id":15148377,"node_id":"MDQ6VXNlcjE1MTQ4Mzc3","avatar_url":"https://avatars3.githubusercontent.com/u/15148377?v=4","gravatar_id":"","url":"https://api.github.com/users/reime005","html_url":"https://github.com/reime005","followers_url":"https://api.github.com/users/reime005/followers","following_url":"https://api.github.com/users/reime005/following{/other_user}","gists_url":"https://api.github.com/users/reime005/gists{/gist_id}","starred_url":"https://api.github.com/users/reime005/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reime005/subscriptions","organizations_url":"https://api.github.com/users/reime005/orgs","repos_url":"https://api.github.com/users/reime005/repos","events_url":"https://api.github.com/users/reime005/events{/privacy}","received_events_url":"https://api.github.com/users/reime005/received_events","type":"User","site_admin":false},"version":"acbb843af3befa3fd34bfa1a2e2bc2b17efa1f1e","committed_at":"2019-09-09T19:51:19Z","change_status":{"total":30,"additions":30,"deletions":0},"url":"https://api.github.com/gists/4937aa69651a5852aa72b2a38e415d79/acbb843af3befa3fd34bfa1a2e2bc2b17efa1f1e"}],"truncated":false}